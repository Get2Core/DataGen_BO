/*
Created: 2017-03-29
Modified: 2017-09-18
Project: BookOrder
Model: BookOrder
Database: Oracle 11g Release 2
*/


-- Drop relationships section -------------------------------------------------

ALTER TABLE "SHIPMENTS" DROP CONSTRAINT "SHIPMENTS_R1"
/
ALTER TABLE "SHIPMENTS" DROP CONSTRAINT "SHIPMENTS_R3"
/
ALTER TABLE "DEPARTMENTS" DROP CONSTRAINT "DEPARTMENTS_R1"
/
ALTER TABLE "EMPLOYEES" DROP CONSTRAINT "EMPLOYEES_R2"
/
ALTER TABLE "ORDERS" DROP CONSTRAINT "ORDERS_R2"
/
ALTER TABLE "CUST_CONTACTS" DROP CONSTRAINT "CUST_CONTACTS_R1"
/
ALTER TABLE "SHIPMENT_ADDRESSES" DROP CONSTRAINT "SHIPMENT_ADDRESS_R1"
/
ALTER TABLE "EMPLOYEES" DROP CONSTRAINT "EMPLOYEES_R1"
/
ALTER TABLE "INQUIRIES" DROP CONSTRAINT "INQUIRIES_R3"
/
ALTER TABLE "INQUIRIES" DROP CONSTRAINT "INQUIRIES_R4"
/
ALTER TABLE "INQUIRIES" DROP CONSTRAINT "INQUIRIES_R2"
/
ALTER TABLE "INQUIRIES" DROP CONSTRAINT "INQUIRIES_R1"
/
ALTER TABLE "PRODUCTS" DROP CONSTRAINT "PRODUCTS_R2"
/
ALTER TABLE "PRODUCTS" DROP CONSTRAINT "PRODUCTS_R1"
/
ALTER TABLE "SHIPMENTS" DROP CONSTRAINT "SHIPMENTS_R2"
/
ALTER TABLE "ORDER_ITEMS" DROP CONSTRAINT "ORDER_ITEMS_R2"
/
ALTER TABLE "ORDER_ITEMS" DROP CONSTRAINT "ORDER_ITEMS_R1"
/
ALTER TABLE "ORDERS" DROP CONSTRAINT "ORDERS_R1"
/




-- Drop keys for tables section -------------------------------------------------

ALTER TABLE "CUST_CONTACTS" DROP CONSTRAINT "CUST_CONTACTS_PK"
/
ALTER TABLE "SHIPMENT_ADDRESSES" DROP CONSTRAINT "SHIPMENT_ADDRESSES_PK"
/
ALTER TABLE "DEPARTMENTS" DROP CONSTRAINT "DEPARTMENTS_PK"
/
ALTER TABLE "EMPLOYEES" DROP CONSTRAINT "EMPLOYEES_PK"
/
ALTER TABLE "INQUIRIES" DROP CONSTRAINT "INQUIRIES_PK"
/
ALTER TABLE "CORPORATIONS" DROP CONSTRAINT "COOPERATIONS_PK"
/
ALTER TABLE "CATEGORIES" DROP CONSTRAINT "CATEGORIES_PK"
/
ALTER TABLE "SHIPMENTS" DROP CONSTRAINT "SHIPMENTS_PK"
/
ALTER TABLE "ORDER_ITEMS" DROP CONSTRAINT "ORDER_ITEMS_PK"
/
ALTER TABLE "PRODUCTS" DROP CONSTRAINT "PRODUCTS_PK"
/
ALTER TABLE "ORDERS" DROP CONSTRAINT "ORDERS_PK"
/
ALTER TABLE "CUSTOMERS" DROP CONSTRAINT "CUSTOMERS_PK"
/


-- Drop indexes section -------------------------------------------------

DROP INDEX "DEPARTMENTS_F1"
/
DROP INDEX "DEPARTMENTS_N1"
/
DROP INDEX "EMPLOYEES_F1"
/
DROP INDEX "EMPLOYEES_F2"
/
DROP INDEX "INQUIRIES_F1"
/
DROP INDEX "INQUIRIES_F2"
/
DROP INDEX "INQUIRIES_F3"
/
DROP INDEX "INQUIRIES_F4"
/
DROP INDEX "SHIPMENTS_F1"
/
DROP INDEX "SHIPMENTS_F2"
/
DROP INDEX "IX_SHIPMENTS_R1"
/
DROP INDEX "ORDER_ITEMS_F1"
/
DROP INDEX "PRODUCTS_F1"
/
DROP INDEX "PRODUCTS_F2"
/
DROP INDEX "ORDERS_F1"
/
DROP INDEX "ORDERS_F2"
/
DROP INDEX "ORDERS_N1"
/
DROP INDEX "ORDERS_N2"
/


-- Drop tables section ---------------------------------------------------

DROP TABLE "CUST_CONTACTS"
/
DROP TABLE "SHIPMENT_ADDRESSES"
/
DROP TABLE "DEPARTMENTS"
/
DROP TABLE "EMPLOYEES"
/
DROP TABLE "INQUIRIES"
/
DROP TABLE "CORPORATIONS"
/
DROP TABLE "PERF_STAT"
/
DROP TABLE "CATEGORIES"
/
DROP TABLE "SHIPMENTS"
/
DROP TABLE "ORDER_ITEMS"
/
DROP TABLE "PRODUCTS"
/
DROP TABLE "ORDERS"
/
DROP TABLE "CUSTOMERS"
/

-- Create tables section -------------------------------------------------

-- Table CUSTOMERS

CREATE TABLE "CUSTOMERS"(
  "CUST_ID" Number NOT NULL,
  "CUST_NAME" Varchar2(40 ),
  "CUST_GENDER_TYPE" Varchar2(1 ),
  "LOGIN_ID" Varchar2(10 ),
  "LOGIN_PSWD" Varchar2(40 ),
  "LOGIN_NAME" Varchar2(40 ),
  "CUST_GRADE" Varchar2(1 )
)
/

-- Add keys for table CUSTOMERS

ALTER TABLE "CUSTOMERS" ADD CONSTRAINT "CUSTOMERS_PK" PRIMARY KEY ("CUST_ID")
/

-- Table and Columns comments section

COMMENT ON TABLE "CUSTOMERS" IS '고객'
/
COMMENT ON COLUMN "CUSTOMERS"."CUST_ID" IS '고객ID'
/
COMMENT ON COLUMN "CUSTOMERS"."CUST_NAME" IS '고객이름'
/
COMMENT ON COLUMN "CUSTOMERS"."CUST_GENDER_TYPE" IS '고객성별(1:남성,2:여성)'
/
COMMENT ON COLUMN "CUSTOMERS"."LOGIN_ID" IS '로그인ID'
/
COMMENT ON COLUMN "CUSTOMERS"."LOGIN_PSWD" IS '로그인비밀번호'
/
COMMENT ON COLUMN "CUSTOMERS"."LOGIN_NAME" IS '접속별명'
/
COMMENT ON COLUMN "CUSTOMERS"."CUST_GRADE" IS '고객등급'
/

-- Table ORDERS

CREATE TABLE "ORDERS"(
  "ORDER_ID" Number NOT NULL,
  "CUST_ID" Number,
  "ORDER_DT" Date,
  "ORDER_CHANNEL_TYPE" Varchar2(1 ),
  "ORDER_STATUS" Varchar2(1 ),
  "ORDER_RCT_EMP_ID" Number
)
/

-- Create indexes for table ORDERS

CREATE INDEX "ORDERS_F1" ON "ORDERS" ("CUST_ID")
/

CREATE INDEX "ORDERS_F2" ON "ORDERS" ("ORDER_RCT_EMP_ID")
/

CREATE INDEX "ORDERS_N1" ON "ORDERS" ("ORDER_DT")
/

CREATE INDEX "ORDERS_N2" ON "ORDERS" ("ORDER_RCT_EMP_ID")
/

-- Add keys for table ORDERS

ALTER TABLE "ORDERS" ADD CONSTRAINT "ORDERS_PK" PRIMARY KEY ("ORDER_ID")
/

-- Table and Columns comments section

COMMENT ON TABLE "ORDERS" IS '주문'
/
COMMENT ON COLUMN "ORDERS"."ORDER_ID" IS '주문ID'
/
COMMENT ON COLUMN "ORDERS"."CUST_ID" IS '고객ID'
/
COMMENT ON COLUMN "ORDERS"."ORDER_DT" IS '주문일시'
/
COMMENT ON COLUMN "ORDERS"."ORDER_CHANNEL_TYPE" IS '주문채널(1:홈페이지,2:모바일,3:전화)'
/
COMMENT ON COLUMN "ORDERS"."ORDER_STATUS" IS '주문상태(1:결제완료,2:상품준비중,3:상품발송,4:배송완료,8:주문취소,9:반품)'
/
COMMENT ON COLUMN "ORDERS"."ORDER_RCT_EMP_ID" IS '주문접수자'
/

-- Table PRODUCTS

CREATE TABLE "PRODUCTS"(
  "PRODUCT_ID" Number NOT NULL,
  "CATEGORY_ID" Number,
  "VENDOR_ID" Number,
  "PRODUCT_NAME" Varchar2(60 ) NOT NULL,
  "ISBN_NO" Varchar2(40 ),
  "PRODUCT_PRICE" Number(22,0),
  "WRITER_NAME" Varchar2(40 )
)
/

-- Create indexes for table PRODUCTS

CREATE INDEX "PRODUCTS_F1" ON "PRODUCTS" ("CATEGORY_ID")
/

CREATE INDEX "PRODUCTS_F2" ON "PRODUCTS" ("VENDOR_ID")
/

-- Add keys for table PRODUCTS

ALTER TABLE "PRODUCTS" ADD CONSTRAINT "PRODUCTS_PK" PRIMARY KEY ("PRODUCT_ID")
/

-- Table and Columns comments section

COMMENT ON TABLE "PRODUCTS" IS '상품'
/
COMMENT ON COLUMN "PRODUCTS"."PRODUCT_ID" IS '상품ID'
/
COMMENT ON COLUMN "PRODUCTS"."CATEGORY_ID" IS '카테고리ID'
/
COMMENT ON COLUMN "PRODUCTS"."VENDOR_ID" IS '협력업체ID'
/
COMMENT ON COLUMN "PRODUCTS"."PRODUCT_NAME" IS '상품이름'
/
COMMENT ON COLUMN "PRODUCTS"."ISBN_NO" IS '국제표준도서번호'
/
COMMENT ON COLUMN "PRODUCTS"."PRODUCT_PRICE" IS '상품가격'
/
COMMENT ON COLUMN "PRODUCTS"."WRITER_NAME" IS '저자이름'
/

-- Table ORDER_ITEMS

CREATE TABLE "ORDER_ITEMS"(
  "ORDER_ID" Number NOT NULL,
  "ORDER_SEQ_ID" Number(2,0) NOT NULL,
  "PRODUCT_ID" Number NOT NULL,
  "ORDER_QUANTITY" Number(22,0),
  "ORDER_PRICE" Number
)
/

-- Create indexes for table ORDER_ITEMS

CREATE INDEX "ORDER_ITEMS_F1" ON "ORDER_ITEMS" ("PRODUCT_ID")
/

-- Add keys for table ORDER_ITEMS

ALTER TABLE "ORDER_ITEMS" ADD CONSTRAINT "ORDER_ITEMS_PK" PRIMARY KEY ("ORDER_ID","ORDER_SEQ_ID")
/

-- Table and Columns comments section

COMMENT ON TABLE "ORDER_ITEMS" IS '주문내역'
/
COMMENT ON COLUMN "ORDER_ITEMS"."ORDER_ID" IS '주문ID'
/
COMMENT ON COLUMN "ORDER_ITEMS"."ORDER_SEQ_ID" IS '주문항목ID'
/
COMMENT ON COLUMN "ORDER_ITEMS"."PRODUCT_ID" IS '상품ID'
/
COMMENT ON COLUMN "ORDER_ITEMS"."ORDER_QUANTITY" IS '주문수량'
/
COMMENT ON COLUMN "ORDER_ITEMS"."ORDER_PRICE" IS '주문가격'
/

-- Table SHIPMENTS

CREATE TABLE "SHIPMENTS"(
  "ORDER_ID" Number NOT NULL,
  "CUST_ID" Number NOT NULL,
  "SHIP_ADDR_ORD_NUM" Number(2,0) NOT NULL,
  "SHIPMENT_STATUS" Varchar2(1 ),
  "SHIPMENT_CORPORATION_ID" Number,
  "TRACKING_NUMBER" Varchar2(40 ),
  "DELIVERY_START_DT" Date,
  "DELIVERY_END_DT" Date
)
/

-- Create indexes for table SHIPMENTS

CREATE INDEX "SHIPMENTS_F1" ON "SHIPMENTS" ("SHIPMENT_CORPORATION_ID")
/

CREATE INDEX "SHIPMENTS_F2" ON "SHIPMENTS" ("CUST_ID")
/

CREATE INDEX "IX_SHIPMENTS_R1" ON "SHIPMENTS" ("CUST_ID","SHIP_ADDR_ORD_NUM")
/

-- Add keys for table SHIPMENTS

ALTER TABLE "SHIPMENTS" ADD CONSTRAINT "SHIPMENTS_PK" PRIMARY KEY ("ORDER_ID")
/

-- Table and Columns comments section

COMMENT ON TABLE "SHIPMENTS" IS '배송내역'
/
COMMENT ON COLUMN "SHIPMENTS"."ORDER_ID" IS '주문ID'
/
COMMENT ON COLUMN "SHIPMENTS"."CUST_ID" IS '고객ID'
/
COMMENT ON COLUMN "SHIPMENTS"."SHIP_ADDR_ORD_NUM" IS '배송지순번'
/
COMMENT ON COLUMN "SHIPMENTS"."SHIPMENT_STATUS" IS '배송상태(1:배송전,2:배송중,3:배송완료,4:반품접수,5:반품완료)'
/
COMMENT ON COLUMN "SHIPMENTS"."SHIPMENT_CORPORATION_ID" IS '협력업체ID'
/
COMMENT ON COLUMN "SHIPMENTS"."TRACKING_NUMBER" IS '송장번호'
/
COMMENT ON COLUMN "SHIPMENTS"."DELIVERY_START_DT" IS '배송시작일'
/
COMMENT ON COLUMN "SHIPMENTS"."DELIVERY_END_DT" IS '배송완료일'
/

-- Table CATEGORIES

CREATE TABLE "CATEGORIES"(
  "CATEGORY_ID" Number NOT NULL,
  "CATEGORY_NAME" Varchar2(60 )
)
/

-- Add keys for table CATEGORIES

ALTER TABLE "CATEGORIES" ADD CONSTRAINT "CATEGORIES_PK" PRIMARY KEY ("CATEGORY_ID")
/

-- Table and Columns comments section

COMMENT ON TABLE "CATEGORIES" IS '상품분류'
/
COMMENT ON COLUMN "CATEGORIES"."CATEGORY_ID" IS '카테고리ID'
/
COMMENT ON COLUMN "CATEGORIES"."CATEGORY_NAME" IS '카테고리 이름'
/

-- Table PERF_STAT

CREATE GLOBAL TEMPORARY TABLE "PERF_STAT"(
  "RUNTYPE1" Varchar2(40 ) NOT NULL,
  "RUNTYPE2" Varchar2(1 ) NOT NULL,
  "RUNTYPE3" Varchar2(1 ),
  "NAME1" Varchar2(64 ) NOT NULL,
  "NAME2" Varchar2(64 ),
  "VALUE1" Number NOT NULL,
  "VALUE2" Number,
  "VALUE3" Number
)
ON COMMIT PRESERVE ROWS
/

-- Table and Columns comments section

COMMENT ON TABLE "PERF_STAT" IS '성능측정자료'
/
COMMENT ON COLUMN "PERF_STAT"."RUNTYPE1" IS '수행타입1'
/
COMMENT ON COLUMN "PERF_STAT"."RUNTYPE2" IS '수행타입2'
/
COMMENT ON COLUMN "PERF_STAT"."RUNTYPE3" IS '수행타입3'
/
COMMENT ON COLUMN "PERF_STAT"."NAME1" IS '이름1'
/
COMMENT ON COLUMN "PERF_STAT"."NAME2" IS '이름2'
/
COMMENT ON COLUMN "PERF_STAT"."VALUE1" IS '값1'
/
COMMENT ON COLUMN "PERF_STAT"."VALUE2" IS '값2'
/
COMMENT ON COLUMN "PERF_STAT"."VALUE3" IS '값3'
/

-- Table CORPORATIONS

CREATE TABLE "CORPORATIONS"(
  "CORPORATION_ID" Number NOT NULL,
  "CORPORATION_NAME" Varchar2(60 ),
  "REP_PHONE_NUMBER" Varchar2(40 ),
  "CORPORATION_TYPE" Varchar2(1 )
)
/

-- Add keys for table CORPORATIONS

ALTER TABLE "CORPORATIONS" ADD CONSTRAINT "COOPERATIONS_PK" PRIMARY KEY ("CORPORATION_ID")
/

-- Table and Columns comments section

COMMENT ON TABLE "CORPORATIONS" IS '협력업체'
/
COMMENT ON COLUMN "CORPORATIONS"."CORPORATION_ID" IS '협력업체ID'
/
COMMENT ON COLUMN "CORPORATIONS"."CORPORATION_NAME" IS '협력업체이름'
/
COMMENT ON COLUMN "CORPORATIONS"."REP_PHONE_NUMBER" IS '대표연락처'
/
COMMENT ON COLUMN "CORPORATIONS"."CORPORATION_TYPE" IS '협력업체구분(1:출판사,2:공급업체,3:배송업체)'
/

-- Table INQUIRIES

CREATE TABLE "INQUIRIES"(
  "CUST_ID" Number NOT NULL,
  "INQ_DT" Date NOT NULL,
  "ORDER_ID" Number,
  "EMP_ID" Number NOT NULL,
  "PRODUCT_ID" Number,
  "INQ_TYPE" Varchar2(1 ) NOT NULL,
  "INQ_STATUS" Varchar2(1 ),
  "INQ_Q" Clob,
  "INQ_A" Clob,
  "INQ_SATIS_GRADE" Varchar2(1 )
)
/

-- Create indexes for table INQUIRIES

CREATE INDEX "INQUIRIES_F1" ON "INQUIRIES" ("ORDER_ID")
/

CREATE INDEX "INQUIRIES_F2" ON "INQUIRIES" ("EMP_ID")
/

CREATE INDEX "INQUIRIES_F3" ON "INQUIRIES" ("PRODUCT_ID")
/

CREATE INDEX "INQUIRIES_F4" ON "INQUIRIES" ("CUST_ID")
/

-- Add keys for table INQUIRIES

ALTER TABLE "INQUIRIES" ADD CONSTRAINT "INQUIRIES_PK" PRIMARY KEY ("CUST_ID","INQ_DT","INQ_TYPE")
/

-- Table and Columns comments section

COMMENT ON TABLE "INQUIRIES" IS '상담내역'
/
COMMENT ON COLUMN "INQUIRIES"."CUST_ID" IS '고객ID'
/
COMMENT ON COLUMN "INQUIRIES"."INQ_DT" IS '상담일시'
/
COMMENT ON COLUMN "INQUIRIES"."ORDER_ID" IS '주문ID'
/
COMMENT ON COLUMN "INQUIRIES"."EMP_ID" IS '사원ID'
/
COMMENT ON COLUMN "INQUIRIES"."PRODUCT_ID" IS '상품ID'
/
COMMENT ON COLUMN "INQUIRIES"."INQ_TYPE" IS '상담구분(1:상품,2:배송,3:서비스,4:기타)'
/
COMMENT ON COLUMN "INQUIRIES"."INQ_STATUS" IS '상담처리상태(1:답변대기중,2:답변완료)'
/
COMMENT ON COLUMN "INQUIRIES"."INQ_Q" IS '상담내용'
/
COMMENT ON COLUMN "INQUIRIES"."INQ_A" IS '답변내용'
/
COMMENT ON COLUMN "INQUIRIES"."INQ_SATIS_GRADE" IS '상담만족도(1~5:5점척도)'
/

-- Table EMPLOYEES

CREATE TABLE "EMPLOYEES"(
  "EMP_ID" Number NOT NULL,
  "EMP_NAME" Varchar2(20 ) NOT NULL,
  "DEPT_ID" Number,
  "ADMIN_EMP_ID" Number,
  "HIRE_DATE" Date,
  "JOB_POSITION" Varchar2(1 ),
  "SALARY" Number(22,0)
)
/

-- Create indexes for table EMPLOYEES

CREATE INDEX "EMPLOYEES_F1" ON "EMPLOYEES" ("DEPT_ID")
/

CREATE INDEX "EMPLOYEES_F2" ON "EMPLOYEES" ("ADMIN_EMP_ID")
/

-- Add keys for table EMPLOYEES

ALTER TABLE "EMPLOYEES" ADD CONSTRAINT "EMPLOYEES_PK" PRIMARY KEY ("EMP_ID")
/

-- Table and Columns comments section

COMMENT ON TABLE "EMPLOYEES" IS '사원'
/
COMMENT ON COLUMN "EMPLOYEES"."EMP_ID" IS '사원ID'
/
COMMENT ON COLUMN "EMPLOYEES"."EMP_NAME" IS '사원이름'
/
COMMENT ON COLUMN "EMPLOYEES"."DEPT_ID" IS '부서ID'
/
COMMENT ON COLUMN "EMPLOYEES"."ADMIN_EMP_ID" IS '관리자ID'
/
COMMENT ON COLUMN "EMPLOYEES"."HIRE_DATE" IS '입사일자'
/
COMMENT ON COLUMN "EMPLOYEES"."JOB_POSITION" IS '직급'
/
COMMENT ON COLUMN "EMPLOYEES"."SALARY" IS '급여'
/

-- Table DEPARTMENTS

CREATE TABLE "DEPARTMENTS"(
  "DEPT_ID" Number NOT NULL,
  "DEPT_NAME" Varchar2(60 ),
  "UPPER_DEPT_ID" Number
)
/

-- Create indexes for table DEPARTMENTS

CREATE INDEX "DEPARTMENTS_F1" ON "DEPARTMENTS" ("UPPER_DEPT_ID")
/

CREATE INDEX "DEPARTMENTS_N1" ON "DEPARTMENTS" ("DEPT_NAME")
/

-- Add keys for table DEPARTMENTS

ALTER TABLE "DEPARTMENTS" ADD CONSTRAINT "DEPARTMENTS_PK" PRIMARY KEY ("DEPT_ID")
/

-- Table and Columns comments section

COMMENT ON TABLE "DEPARTMENTS" IS '부서'
/
COMMENT ON COLUMN "DEPARTMENTS"."DEPT_ID" IS '부서ID'
/
COMMENT ON COLUMN "DEPARTMENTS"."DEPT_NAME" IS '부서이름'
/
COMMENT ON COLUMN "DEPARTMENTS"."UPPER_DEPT_ID" IS '상급부서ID'
/

-- Table SHIPMENT_ADDRESSES

CREATE TABLE "SHIPMENT_ADDRESSES"(
  "CUST_ID" Number NOT NULL,
  "SHIP_ADDR_ORD_NUM" Number(2,0) NOT NULL,
  "SHIP_ADDR_BASE_YN" Varchar2(1 ),
  "SHIP_ADDR_REG_DT" Date,
  "REGION_TYPE" Varchar2(2 ),
  "ZIPCODE" Varchar2(5 ),
  "ADDRESS" Varchar2(400 )
)
/

-- Add keys for table SHIPMENT_ADDRESSES

ALTER TABLE "SHIPMENT_ADDRESSES" ADD CONSTRAINT "SHIPMENT_ADDRESSES_PK" PRIMARY KEY ("CUST_ID","SHIP_ADDR_ORD_NUM")
/

-- Table and Columns comments section

COMMENT ON TABLE "SHIPMENT_ADDRESSES" IS '배송주소'
/
COMMENT ON COLUMN "SHIPMENT_ADDRESSES"."CUST_ID" IS '고객ID'
/
COMMENT ON COLUMN "SHIPMENT_ADDRESSES"."SHIP_ADDR_ORD_NUM" IS '배송지순번'
/
COMMENT ON COLUMN "SHIPMENT_ADDRESSES"."SHIP_ADDR_BASE_YN" IS '배송지기본값여부'
/
COMMENT ON COLUMN "SHIPMENT_ADDRESSES"."SHIP_ADDR_REG_DT" IS '주소등록일'
/
COMMENT ON COLUMN "SHIPMENT_ADDRESSES"."REGION_TYPE" IS '지역구분'
/
COMMENT ON COLUMN "SHIPMENT_ADDRESSES"."ZIPCODE" IS '우편번호'
/
COMMENT ON COLUMN "SHIPMENT_ADDRESSES"."ADDRESS" IS '주소'
/

-- Table CUST_CONTACTS

CREATE TABLE "CUST_CONTACTS"(
  "CUST_ID" Number NOT NULL,
  "CONTACT_TYPE" Varchar2(1 ) NOT NULL,
  "CONTACT_ORD_NUM" Number(2,0) NOT NULL,
  "CONTACT_BASE_YN" Varchar2(1 ),
  "CONTACT_REG_DT" Date,
  "CONTACT_VALUE" Varchar2(60 )
)
/

-- Add keys for table CUST_CONTACTS

ALTER TABLE "CUST_CONTACTS" ADD CONSTRAINT "CUST_CONTACTS_PK" PRIMARY KEY ("CUST_ID","CONTACT_TYPE","CONTACT_ORD_NUM")
/

-- Table and Columns comments section

COMMENT ON TABLE "CUST_CONTACTS" IS '고객연락처'
/
COMMENT ON COLUMN "CUST_CONTACTS"."CUST_ID" IS '고객ID'
/
COMMENT ON COLUMN "CUST_CONTACTS"."CONTACT_TYPE" IS '연락처종류(1:전화,2:E-Mail)'
/
COMMENT ON COLUMN "CUST_CONTACTS"."CONTACT_ORD_NUM" IS '연락처순번'
/
COMMENT ON COLUMN "CUST_CONTACTS"."CONTACT_BASE_YN" IS '연락처기본값여부'
/
COMMENT ON COLUMN "CUST_CONTACTS"."CONTACT_REG_DT" IS '연락처등록일'
/
COMMENT ON COLUMN "CUST_CONTACTS"."CONTACT_VALUE" IS '연락처'
/

-- Create relationships section ------------------------------------------------- 

ALTER TABLE "ORDERS" ADD CONSTRAINT "ORDERS_R1" FOREIGN KEY ("CUST_ID") REFERENCES "CUSTOMERS" ("CUST_ID")
/

ALTER TABLE "ORDER_ITEMS" ADD CONSTRAINT "ORDER_ITEMS_R1" FOREIGN KEY ("ORDER_ID") REFERENCES "ORDERS" ("ORDER_ID")
/

ALTER TABLE "ORDER_ITEMS" ADD CONSTRAINT "ORDER_ITEMS_R2" FOREIGN KEY ("PRODUCT_ID") REFERENCES "PRODUCTS" ("PRODUCT_ID")
/

ALTER TABLE "SHIPMENTS" ADD CONSTRAINT "SHIPMENTS_R2" FOREIGN KEY ("ORDER_ID") REFERENCES "ORDERS" ("ORDER_ID")
/

ALTER TABLE "PRODUCTS" ADD CONSTRAINT "PRODUCTS_R1" FOREIGN KEY ("CATEGORY_ID") REFERENCES "CATEGORIES" ("CATEGORY_ID")
/

ALTER TABLE "PRODUCTS" ADD CONSTRAINT "PRODUCTS_R2" FOREIGN KEY ("VENDOR_ID") REFERENCES "CORPORATIONS" ("CORPORATION_ID")
/

ALTER TABLE "INQUIRIES" ADD CONSTRAINT "INQUIRIES_R1" FOREIGN KEY ("CUST_ID") REFERENCES "CUSTOMERS" ("CUST_ID")
/

ALTER TABLE "INQUIRIES" ADD CONSTRAINT "INQUIRIES_R2" FOREIGN KEY ("ORDER_ID") REFERENCES "ORDERS" ("ORDER_ID")
/

ALTER TABLE "INQUIRIES" ADD CONSTRAINT "INQUIRIES_R4" FOREIGN KEY ("EMP_ID") REFERENCES "EMPLOYEES" ("EMP_ID")
/

ALTER TABLE "INQUIRIES" ADD CONSTRAINT "INQUIRIES_R3" FOREIGN KEY ("PRODUCT_ID") REFERENCES "PRODUCTS" ("PRODUCT_ID")
/

ALTER TABLE "EMPLOYEES" ADD CONSTRAINT "EMPLOYEES_R1" FOREIGN KEY ("DEPT_ID") REFERENCES "DEPARTMENTS" ("DEPT_ID")
/

ALTER TABLE "SHIPMENT_ADDRESSES" ADD CONSTRAINT "SHIPMENT_ADDRESS_R1" FOREIGN KEY ("CUST_ID") REFERENCES "CUSTOMERS" ("CUST_ID")
/

ALTER TABLE "CUST_CONTACTS" ADD CONSTRAINT "CUST_CONTACTS_R1" FOREIGN KEY ("CUST_ID") REFERENCES "CUSTOMERS" ("CUST_ID")
/

ALTER TABLE "ORDERS" ADD CONSTRAINT "ORDERS_R2" FOREIGN KEY ("ORDER_RCT_EMP_ID") REFERENCES "EMPLOYEES" ("EMP_ID")
/

ALTER TABLE "EMPLOYEES" ADD CONSTRAINT "EMPLOYEES_R2" FOREIGN KEY ("ADMIN_EMP_ID") REFERENCES "EMPLOYEES" ("EMP_ID")
/

ALTER TABLE "DEPARTMENTS" ADD CONSTRAINT "DEPARTMENTS_R1" FOREIGN KEY ("UPPER_DEPT_ID") REFERENCES "DEPARTMENTS" ("DEPT_ID")
/

ALTER TABLE "SHIPMENTS" ADD CONSTRAINT "SHIPMENTS_R3" FOREIGN KEY ("SHIPMENT_CORPORATION_ID") REFERENCES "CORPORATIONS" ("CORPORATION_ID")
/

ALTER TABLE "SHIPMENTS" ADD CONSTRAINT "SHIPMENTS_R1" FOREIGN KEY ("CUST_ID", "SHIP_ADDR_ORD_NUM") REFERENCES "SHIPMENT_ADDRESSES" ("CUST_ID", "SHIP_ADDR_ORD_NUM")
/





